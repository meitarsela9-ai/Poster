<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Poster Animation - Interactive Control Panel</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: #1a1a1a;
      overflow: hidden;
      font-family: 'IBM Plex Mono', monospace;
      display: flex;
      height: 100vh;
    }

    /* Canvas Container */
    #canvas-container {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    canvas {
      display: block;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }

    /* Control Panel */
    #control-panel {
      width: 380px;
      background: #2a2a2a;
      color: #e0e0e0;
      overflow-y: auto;
      padding: 20px;
      border-left: 2px solid #444;
    }

    #control-panel h1 {
      font-size: 16px;
      margin-bottom: 20px;
      color: #0095ff;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Playback Controls */
    .playback-controls {
      margin-bottom: 25px;
      padding: 15px;
      background: #1a1a1a;
      border-radius: 6px;
      border: 1px solid #444;
    }

    .playback-controls h3 {
      font-size: 12px;
      margin-bottom: 12px;
      color: #0095ff;
      text-transform: uppercase;
    }

    .button-group {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }

    button {
      flex: 1;
      padding: 10px 15px;
      background: #3a3a3a;
      color: #e0e0e0;
      border: 1px solid #555;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 11px;
      transition: all 0.2s;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    button:hover {
      background: #4a4a4a;
      border-color: #0095ff;
    }

    button:active {
      background: #0095ff;
      transform: scale(0.98);
    }

    button.active {
      background: #0095ff;
      border-color: #0095ff;
    }

    .time-display {
      font-size: 11px;
      color: #888;
      margin-top: 8px;
      text-align: center;
      font-variant-numeric: tabular-nums;
    }

    /* Scene Navigation */
    .scene-nav {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 6px;
      margin-bottom: 8px;
    }

    .scene-nav button {
      padding: 8px 4px;
      font-size: 9px;
    }

    /* Phase Sections */
    .phase-section {
      margin-bottom: 15px;
      background: #1a1a1a;
      border-radius: 6px;
      overflow: hidden;
      border: 1px solid #444;
    }

    .phase-header {
      padding: 12px 15px;
      background: #2a2a2a;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      user-select: none;
      border-bottom: 1px solid #444;
    }

    .phase-header:hover {
      background: #333;
    }

    .phase-header h2 {
      font-size: 12px;
      color: #0095ff;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .phase-header .toggle {
      font-size: 10px;
      color: #888;
    }

    .phase-content {
      padding: 15px;
      display: none;
    }

    .phase-content.active {
      display: block;
    }

    /* Control Groups */
    .control-group {
      margin-bottom: 18px;
    }

    .control-group:last-child {
      margin-bottom: 0;
    }

    .control-group label {
      display: block;
      font-size: 11px;
      margin-bottom: 6px;
      color: #aaa;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .control-row {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    input[type="range"] {
      flex: 1;
      height: 4px;
      background: #3a3a3a;
      outline: none;
      border-radius: 2px;
      -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 14px;
      height: 14px;
      background: #0095ff;
      cursor: pointer;
      border-radius: 50%;
    }

    input[type="range"]::-moz-range-thumb {
      width: 14px;
      height: 14px;
      background: #0095ff;
      cursor: pointer;
      border-radius: 50%;
      border: none;
    }

    input[type="number"] {
      width: 70px;
      padding: 6px 8px;
      background: #3a3a3a;
      color: #e0e0e0;
      border: 1px solid #555;
      border-radius: 4px;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 11px;
      text-align: right;
    }

    input[type="number"]:focus {
      outline: none;
      border-color: #0095ff;
    }

    .value-display {
      min-width: 50px;
      text-align: right;
      font-size: 11px;
      color: #0095ff;
      font-variant-numeric: tabular-nums;
    }

    /* Scrollbar styling */
    #control-panel::-webkit-scrollbar {
      width: 8px;
    }

    #control-panel::-webkit-scrollbar-track {
      background: #1a1a1a;
    }

    #control-panel::-webkit-scrollbar-thumb {
      background: #444;
      border-radius: 4px;
    }

    #control-panel::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    /* Info text */
    .info {
      font-size: 10px;
      color: #666;
      margin-top: 4px;
      line-height: 1.4;
    }
  </style>
</head>
<body>
  <div id="canvas-container"></div>

  <div id="control-panel">
    <h1>Interactive Controls</h1>

    <!-- Playback Controls -->
    <div class="playback-controls">
      <h3>Playback</h3>
      <div class="button-group">
        <button id="play-pause">Pause</button>
        <button id="reset">Reset</button>
      </div>
      <div class="button-group">
        <button id="export-settings">Export Settings</button>
      </div>
      <div class="scene-nav">
        <button class="scene-btn" data-scene="1">Phase 1</button>
        <button class="scene-btn" data-scene="2">Phase 2</button>
        <button class="scene-btn" data-scene="3">Phase 3</button>
        <button class="scene-btn" data-scene="4">Phase 4</button>
        <button class="scene-btn" data-scene="5">Phase 5</button>
        <button class="scene-btn" data-scene="6">Phase 6</button>
        <button class="scene-btn" data-scene="7">Phase 7</button>
        <button class="scene-btn" data-scene="8">Phase 8</button>
        <button class="scene-btn" data-scene="9">Phase 9</button>
        <button class="scene-btn" data-scene="10">Phase 10</button>
        <button class="scene-btn" data-scene="11">Phase 11</button>
      </div>
      <div class="time-display">
        Time: <span id="current-time">0.0</span>s / Phase: <span id="current-phase">1</span>
      </div>
    </div>

    <!-- Phase 1: The Breath -->
    <div class="phase-section">
      <div class="phase-header" data-phase="1">
        <h2>Phase 1: The Breath</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content active">
        <div class="control-group">
          <label>Rectangle Grow Scale</label>
          <div class="control-row">
            <input type="range" id="rect-grow-scale" min="1" max="2" step="0.05" value="1.2">
            <span class="value-display" id="rect-grow-scale-val">1.20</span>
          </div>
          <div class="info">How much the rectangle expands during breathing</div>
        </div>

        <div class="control-group">
          <label>Text Grow Scale</label>
          <div class="control-row">
            <input type="range" id="text-grow-scale" min="1" max="2" step="0.05" value="1.15">
            <span class="value-display" id="text-grow-scale-val">1.15</span>
          </div>
          <div class="info">How much the text expands during breathing</div>
        </div>

        <div class="control-group">
          <label>Inhale Duration (s)</label>
          <div class="control-row">
            <input type="range" id="breathe-inhale" min="1" max="10" step="0.5" value="4.5">
            <span class="value-display" id="breathe-inhale-val">4.5</span>
          </div>
        </div>

        <div class="control-group">
          <label>Hold Duration (s)</label>
          <div class="control-row">
            <input type="range" id="breathe-hold" min="0.5" max="8" step="0.5" value="3.0">
            <span class="value-display" id="breathe-hold-val">3.0</span>
          </div>
        </div>

        <div class="control-group">
          <label>Exhale Duration (s)</label>
          <div class="control-row">
            <input type="range" id="breathe-exhale" min="1" max="10" step="0.5" value="4.5">
            <span class="value-display" id="breathe-exhale-val">4.5</span>
          </div>
        </div>

        <div class="control-group">
          <label>Release Grow Duration (s)</label>
          <div class="control-row">
            <input type="range" id="release-grow" min="2" max="15" step="0.5" value="7.0">
            <span class="value-display" id="release-grow-val">7.0</span>
          </div>
        </div>

        <div class="control-group">
          <label>Ghost Fade Duration (s)</label>
          <div class="control-row">
            <input type="range" id="ghost-fade" min="1" max="10" step="0.5" value="4.0">
            <span class="value-display" id="ghost-fade-val">4.0</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Phase 2: The Constellation -->
    <div class="phase-section">
      <div class="phase-header" data-phase="2">
        <h2>Phase 2: The Constellation</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Appearance Duration (s)</label>
          <div class="control-row">
            <input type="range" id="tangent-appear" min="2" max="30" step="1" value="12">
            <span class="value-display" id="tangent-appear-val">12</span>
          </div>
          <div class="info">How long dots take to twinkle into existence</div>
        </div>

        <div class="control-group">
          <label>Dot Radius</label>
          <div class="control-row">
            <input type="range" id="tangent-radius" min="1" max="10" step="0.5" value="3">
            <span class="value-display" id="tangent-radius-val">3</span>
          </div>
        </div>

        <div class="control-group">
          <label>Tangent Threshold</label>
          <div class="control-row">
            <input type="range" id="tangent-threshold" min="0.05" max="0.5" step="0.05" value="0.15">
            <span class="value-display" id="tangent-threshold-val">0.15</span>
          </div>
          <div class="info">Lower = more dots appear (edge straightness)</div>
        </div>

        <div class="control-group">
          <label>Sampling Spacing (px)</label>
          <div class="control-row">
            <input type="range" id="tangent-spacing" min="1" max="50" step="1" value="25">
            <span class="value-display" id="tangent-spacing-val">25</span>
          </div>
          <div class="info">Lower = more dots sampled (denser)</div>
        </div>

        <div class="control-group">
          <button id="regenerate-phase2" style="width: 100%;">Regenerate Phase 2 Dots</button>
          <div class="info">Click to regenerate dots with new parameters</div>
        </div>
      </div>
    </div>

    <!-- Phase 3: The Infusion -->
    <div class="phase-section">
      <div class="phase-header" data-phase="3">
        <h2>Phase 3: The Infusion</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Fill Duration (s)</label>
          <div class="control-row">
            <input type="range" id="gradual-fill" min="5" max="60" step="1" value="30">
            <span class="value-display" id="gradual-fill-val">30</span>
          </div>
          <div class="info">How long the gradual fill takes</div>
        </div>

        <div class="control-group">
          <label>Fill Density - 2026 (%)</label>
          <div class="control-row">
            <input type="range" id="fill-target" min="0.05" max="0.5" step="0.05" value="0.15">
            <span class="value-display" id="fill-target-val">15%</span>
          </div>
          <div class="info">Percentage of 2026 edges filled with dots</div>
        </div>

        <div class="control-group">
          <label>Fill Density - Other Text (%)</label>
          <div class="control-row">
            <input type="range" id="fill-target-small" min="0.05" max="0.5" step="0.05" value="0.20">
            <span class="value-display" id="fill-target-small-val">20%</span>
          </div>
          <div class="info">Percentage of other text edges filled</div>
        </div>

        <div class="control-group">
          <label>Dot Radius</label>
          <div class="control-row">
            <input type="range" id="fill-radius" min="1" max="10" step="0.5" value="3">
            <span class="value-display" id="fill-radius-val">3</span>
          </div>
        </div>

        <div class="control-group">
          <label>Sampling Spacing - 2026 (px)</label>
          <div class="control-row">
            <input type="range" id="fill-spacing-2026" min="1" max="50" step="1" value="25">
            <span class="value-display" id="fill-spacing-2026-val">25</span>
          </div>
          <div class="info">Lower = more dots sampled from 2026</div>
        </div>

        <div class="control-group">
          <label>Sampling Spacing - Other Text (px)</label>
          <div class="control-row">
            <input type="range" id="fill-spacing-other" min="1" max="20" step="1" value="6">
            <span class="value-display" id="fill-spacing-other-val">6</span>
          </div>
          <div class="info">Lower = more dots sampled from other text</div>
        </div>

        <div class="control-group">
          <button id="regenerate-phase3" style="width: 100%;">Regenerate Phase 3 Dots</button>
          <div class="info">Click to regenerate dots with new parameters</div>
        </div>
      </div>
    </div>

    <!-- Phase 4: The Bloom -->
    <div class="phase-section">
      <div class="phase-header" data-phase="4">
        <h2>Phase 4: The Bloom</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Growth Duration (s)</label>
          <div class="control-row">
            <input type="range" id="dots-grow" min="5" max="40" step="1" value="18">
            <span class="value-display" id="dots-grow-val">18</span>
          </div>
          <div class="info">How long dots take to expand</div>
        </div>

        <div class="control-group">
          <label>2026 Dot Growth Scale</label>
          <div class="control-row">
            <input type="range" id="dot-grow-2026" min="1" max="20" step="0.5" value="13">
            <span class="value-display" id="dot-grow-2026-val">13x</span>
          </div>
          <div class="info">How much large bubbles expand</div>
        </div>

        <div class="control-group">
          <label>Other Dot Growth Scale</label>
          <div class="control-row">
            <input type="range" id="dot-grow-other" min="1" max="15" step="0.5" value="5">
            <span class="value-display" id="dot-grow-other-val">5x</span>
          </div>
          <div class="info">How much small bubbles expand</div>
        </div>

        <div class="control-group">
          <label>Stroke Growth Max</label>
          <div class="control-row">
            <input type="range" id="stroke-grow-max" min="1" max="8" step="0.5" value="3.5">
            <span class="value-display" id="stroke-grow-max-val">3.5x</span>
          </div>
          <div class="info">Maximum stroke thickness at peak bloom</div>
        </div>
      </div>
    </div>

    <!-- Phase 5: The Dispersion -->
    <div class="phase-section">
      <div class="phase-header" data-phase="5">
        <h2>Phase 5: The Dispersion</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Dispersion Duration (s)</label>
          <div class="control-row">
            <input type="range" id="dispersion-duration" min="0.5" max="10" step="0.5" value="3.0">
            <span class="value-display" id="dispersion-duration-val">3.0</span>
          </div>
          <div class="info">How long the initial explosion lasts</div>
        </div>

        <div class="control-group">
          <label>Dispersion Speed Multiplier</label>
          <div class="control-row">
            <input type="range" id="dispersion-speed" min="1" max="50" step="1" value="20">
            <span class="value-display" id="dispersion-speed-val">20x</span>
          </div>
          <div class="info">Speed multiplier during explosion</div>
        </div>
      </div>
    </div>

    <!-- Phase 6: The Transformation -->
    <div class="phase-section">
      <div class="phase-header" data-phase="6">
        <h2>Phase 6: The Transformation</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Blue Transform Duration (s)</label>
          <div class="control-row">
            <input type="range" id="blue-transform-duration" min="0.1" max="5" step="0.1" value="0.5">
            <span class="value-display" id="blue-transform-duration-val">0.5</span>
          </div>
          <div class="info">How long transformation takes</div>
        </div>

        <div class="control-group">
          <label>Blue Dot Percentage (%)</label>
          <div class="control-row">
            <input type="range" id="blue-dot-percentage" min="0" max="1" step="0.05" value="0.7">
            <span class="value-display" id="blue-dot-percentage-val">70%</span>
          </div>
          <div class="info">Percentage of small dots that turn blue</div>
        </div>

        <div class="control-group">
          <label>Blue Dot Shrink Factor</label>
          <div class="control-row">
            <input type="range" id="blue-dot-shrink" min="0.1" max="1" step="0.05" value="0.25">
            <span class="value-display" id="blue-dot-shrink-val">0.25</span>
          </div>
          <div class="info">How much blue dots shrink (1 = no shrink)</div>
        </div>
      </div>
    </div>

    <!-- Phase 7: The Float -->
    <div class="phase-section">
      <div class="phase-header" data-phase="7">
        <h2>Phase 7: The Float</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Base Float Speed (small dots)</label>
          <div class="control-row">
            <input type="range" id="base-speed" min="0.01" max="0.5" step="0.01" value="0.12">
            <span class="value-display" id="base-speed-val">0.12</span>
          </div>
          <div class="info">Brownian motion strength for small dots</div>
        </div>

        <div class="control-group">
          <label>Large Dot Speed</label>
          <div class="control-row">
            <input type="range" id="large-dot-speed" min="0.01" max="0.5" step="0.01" value="0.15">
            <span class="value-display" id="large-dot-speed-val">0.15</span>
          </div>
          <div class="info">Brownian motion speed for large dots</div>
        </div>

        <div class="control-group">
          <label>Float Damping</label>
          <div class="control-row">
            <input type="range" id="float-damping" min="0.90" max="0.99" step="0.01" value="0.97">
            <span class="value-display" id="float-damping-val">0.97</span>
          </div>
          <div class="info">Velocity decay (higher = smoother)</div>
        </div>

        <div class="control-group">
          <label>Attraction Strength</label>
          <div class="control-row">
            <input type="range" id="attraction-strength" min="0" max="0.1" step="0.005" value="0.03">
            <span class="value-display" id="attraction-strength-val">0.03</span>
          </div>
          <div class="info">Pull toward nearest attraction point</div>
        </div>

        <div class="control-group">
          <label>Min Distance (dot radius multiplier)</label>
          <div class="control-row">
            <input type="range" id="min-distance" min="0.1" max="5.0" step="0.1" value="0.5">
            <span class="value-display" id="min-distance-val">0.5x</span>
          </div>
          <div class="info">How close dots can get to attraction points</div>
        </div>

        <div class="control-group">
          <label>Gust Strength</label>
          <div class="control-row">
            <input type="range" id="gust-strength" min="0" max="10" step="0.1" value="5.0">
            <span class="value-display" id="gust-strength-val">5.0</span>
          </div>
          <div class="info">Force to blow dots away when stuck</div>
        </div>

        <div class="control-group">
          <label>Gust Frequency</label>
          <div class="control-row">
            <input type="range" id="gust-frequency" min="0" max="1.0" step="0.05" value="0.4">
            <span class="value-display" id="gust-frequency-val">40%</span>
          </div>
          <div class="info">Probability of gust per frame</div>
        </div>

        <div class="control-group">
          <label>Speed Variation Min</label>
          <div class="control-row">
            <input type="range" id="speed-var-min" min="0.3" max="1.0" step="0.05" value="0.7">
            <span class="value-display" id="speed-var-min-val">0.7</span>
          </div>
          <div class="info">Slowest dots drift at this speed</div>
        </div>

        <div class="control-group">
          <label>Speed Variation Max</label>
          <div class="control-row">
            <input type="range" id="speed-var-max" min="1.0" max="2.0" step="0.05" value="1.3">
            <span class="value-display" id="speed-var-max-val">1.3</span>
          </div>
          <div class="info">Fastest dots drift at this speed</div>
        </div>
      </div>
    </div>

    <!-- Phase 8: The Resurfacing -->
    <div class="phase-section">
      <div class="phase-header" data-phase="8">
        <h2>Phase 8: The Resurfacing</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Text Emerge Duration (s)</label>
          <div class="control-row">
            <input type="range" id="text-emerge-duration" min="2" max="20" step="0.5" value="8">
            <span class="value-display" id="text-emerge-duration-val">8.0</span>
          </div>
          <div class="info">How long text takes to fade in</div>
        </div>
      </div>
    </div>

    <!-- Phase 9: The Fade -->
    <div class="phase-section">
      <div class="phase-header" data-phase="9">
        <h2>Phase 9: The Fade</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Stroke Fade Duration (s)</label>
          <div class="control-row">
            <input type="range" id="stroke-fade-duration" min="5" max="30" step="1" value="15">
            <span class="value-display" id="stroke-fade-duration-val">15</span>
          </div>
          <div class="info">How long strokes take to disappear</div>
        </div>
      </div>
    </div>

    <!-- Phase 10: The Snake Game -->
    <div class="phase-section">
      <div class="phase-header" data-phase="10">
        <h2>Phase 10: The Snake Game</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="control-group">
          <label>Grid Size (px)</label>
          <div class="control-row">
            <input type="range" id="snake-grid-size" min="2" max="20" step="1" value="8">
            <span class="value-display" id="snake-grid-size-val">8</span>
          </div>
          <div class="info">Grid cell size for snake movement</div>
        </div>

        <div class="control-group">
          <label>Step Interval (s)</label>
          <div class="control-row">
            <input type="range" id="snake-step-interval" min="0.05" max="0.5" step="0.05" value="0.15">
            <span class="value-display" id="snake-step-interval-val">0.15</span>
          </div>
          <div class="info">Time between snake steps</div>
        </div>

        <div class="control-group">
          <label>Direction Change Probability</label>
          <div class="control-row">
            <input type="range" id="snake-direction-change" min="0" max="1" step="0.05" value="0.15">
            <span class="value-display" id="snake-direction-change-val">15%</span>
          </div>
          <div class="info">Chance to change direction each step</div>
        </div>

        <div class="control-group">
          <label>Eating Distance (px)</label>
          <div class="control-row">
            <input type="range" id="snake-eating-distance" min="5" max="30" step="1" value="12">
            <span class="value-display" id="snake-eating-distance-val">12</span>
          </div>
          <div class="info">Distance for snake eating</div>
        </div>

        <div class="control-group">
          <label>Cutting Distance (px)</label>
          <div class="control-row">
            <input type="range" id="snake-cutting-distance" min="3" max="20" step="1" value="8">
            <span class="value-display" id="snake-cutting-distance-val">8</span>
          </div>
          <div class="info">Distance for snake cutting</div>
        </div>
      </div>
    </div>

    <!-- Phase 11: The Ecosystem -->
    <div class="phase-section">
      <div class="phase-header" data-phase="11">
        <h2>Phase 11: The Ecosystem</h2>
        <span class="toggle">▼</span>
      </div>
      <div class="phase-content">
        <div class="info" style="padding: 10px 0; text-align: center;">
          Final stable state - all systems running in harmony.
          <br><br>
          No additional controls for this phase.
        </div>

        <div class="control-group">
          <button id="regenerate-phase5" style="width: 100%;">Regenerate All Dot Properties</button>
          <div class="info">Click to reassign random speed variations and personalities</div>
        </div>
      </div>
    </div>
  </div>

  <script src="src/sketch-interactive.js"></script>

  <script>
    // Control panel interactivity
    document.addEventListener('DOMContentLoaded', () => {
      // Phase section toggle
      document.querySelectorAll('.phase-header').forEach(header => {
        header.addEventListener('click', () => {
          const content = header.nextElementSibling;
          const toggle = header.querySelector('.toggle');
          content.classList.toggle('active');
          toggle.textContent = content.classList.contains('active') ? '▼' : '▶';
        });
      });

      // Sync all range inputs with value displays
      function setupControl(id, suffix = '') {
        const input = document.getElementById(id);
        const display = document.getElementById(id + '-val');
        if (!input || !display) return;

        input.addEventListener('input', () => {
          let val = parseFloat(input.value);
          if (suffix === '%') {
            display.textContent = Math.round(val * 100) + '%';
          } else if (suffix === 'x') {
            display.textContent = val.toFixed(1) + 'x';
          } else {
            display.textContent = val.toFixed(input.step.includes('.') ? (input.step.split('.')[1].length || 1) : 0);
          }
        });
      }

      // Phase 1
      setupControl('rect-grow-scale');
      setupControl('text-grow-scale');
      setupControl('breathe-inhale');
      setupControl('breathe-hold');
      setupControl('breathe-exhale');
      setupControl('release-grow');
      setupControl('ghost-fade');

      // Phase 2
      setupControl('tangent-appear');
      setupControl('tangent-radius');
      setupControl('tangent-threshold');
      setupControl('tangent-spacing');

      // Phase 3
      setupControl('gradual-fill');
      setupControl('fill-target', '%');
      setupControl('fill-target-small', '%');
      setupControl('fill-radius');
      setupControl('fill-spacing-2026');
      setupControl('fill-spacing-other');

      // Phase 4
      setupControl('dots-grow');
      setupControl('dot-grow-2026', 'x');
      setupControl('dot-grow-other', 'x');
      setupControl('stroke-grow-max', 'x');

      // Phase 5
      setupControl('dispersion-duration');
      setupControl('dispersion-speed', 'x');

      // Phase 6
      setupControl('blue-transform-duration');
      setupControl('blue-dot-percentage', '%');
      setupControl('blue-dot-shrink');

      // Phase 7
      setupControl('base-speed');
      setupControl('float-damping');
      setupControl('large-dot-speed');
      setupControl('attraction-strength');
      setupControl('min-distance', 'x');
      setupControl('gust-strength');
      setupControl('gust-frequency', '%');
      setupControl('speed-var-min');
      setupControl('speed-var-max');

      // Phase 8
      setupControl('text-emerge-duration');

      // Phase 9
      setupControl('stroke-fade-duration');

      // Phase 10
      setupControl('snake-grid-size');
      setupControl('snake-step-interval');
      setupControl('snake-direction-change', '%');
      setupControl('snake-eating-distance');
      setupControl('snake-cutting-distance');
    });
  </script>
</body>
</html>
